{% extends 'imageprocessing/glasses/indexdetail.html' %}
{% load staticfiles %}

{% block title %}Glasses{% endblock %}
{% block whichactive4 %}active{% endblock %}
{% block pagecontent %}

        <div class="col-lg-7 col-md-offset-1" style="background:white; border-radius:5%;">

          <div class="card mt-4">
            <div class="text-center"><img class="card-img-top img-fluid" src="{% static 'images/Lana.png' %}" alt="" style="padding-top:15px; border-radius:5%"></div>
            <div class="card-body">
              <h3 class="card-title">Lana</h3>
              <h4>Age: 26, Place of Residence: Brooklyn, NY</h4>
              <p class="card-text">Lana's eyesight is quickly deteriorating and she's worried that glasses won't look good on her. Let's see if the computer cares enough to tell the difference.
                Select from down below to alter the model and view an ROC curve + confusion matrix.</i></p>
            </div>
          </div>
          <!-- /.card -->

          <div class="card card-outline-secondary my-4">
            <div class="card-body">
              <form action="">
                <div class="form-group row">
                  <label for="numneighbors" class="col-sm-6 col-form-label">Number of Neighbors</label>
                </div>
                <div class="form-group row">
                  <div class="col-lg-8">
                      <select name="numneighbors" class="form-control" id="numneighbors">
                        <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
                        <option>6</option><option>7</option><option>8</option><option>9</option><option>10</option>
                        <option>11</option><option>12</option><option>13</option><option>14</option><option>15</option>
                        <option>16</option><option>17</option><option>18</option><option>19</option><option>20</option>
                      </select>

                  </div>
                  <div class="col-lg-4">
                      <button type="submit" class="btn btn-primary">Go</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
          <!-- /.card -->
          {% if  context  %}
            <div class="card mt-4">
            <img class="card-img-top img-fluid" src="{% static 'graphs/ROC.png' %}" alt="">
            <div class="card-body">
              <h1 class="card-title"><strong>We are {{ context.certainty|stringformat:".2f" }} percent sure that Lana is NOT wearing glasses using this number of neighbors (based off this single image).</strong></h1>
              <h2 class="card-title">Confusion Matrix: </h2>
              <table class="table table-striped table-dark">
                <thead>
                  <tr>
                    <th scope="col"></th>
                    <th scope="col">Predicted: No Glasses</th>
                    <th scope="col">Predicted: Glasses</th>
                  </tr>
                </thead>
                  <tbody>
                    <tr>
                      <th scope="row">Actual: No Glasses</th>
                      <td>{{ context.cm1 }}</td>
                      <td>{{ context.cm2 }}</td>
                    </tr>
                    <tr>
                      <th scope="row">Actual: Glasses</th>
                      <td>{{ context.cm3 }}</td>
                      <td>{{ context.cm4 }}</td>
                    </tr>
                  </tbody>
              </table>
            </div>
          </div>
          {% endif %}
        </div>
{% endblock %}



